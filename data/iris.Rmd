---
title: "Iris dataset"
output: html_document
---

```{r setup, include=FALSE}
library(DT)
library(data.table)
library(randomcoloR)

knitr::opts_chunk$set(echo = FALSE)
iris_dt <- data.table::as.data.table(iris)

```

```{r}

# note that iris_dt is a data.table object
# collect unique values of Species
levs <- iris_dt[,levels(Species)]

# create random and distinctive colors for unique species
cols <- randomcoloR::distinctColorPalette(length(levs))

# shuffle the rows
iris_shuf <- dplyr::sample_frac(iris_dt, 1)

# create the datatable
DT1 <- DT::datatable(iris_shuf,
          filter = "top",
          options = list(autoWidth = T))

# change the background colors of the Species
DT1 <- DT::formatStyle(DT1, 
                       "Species",
                         backgroundColor = DT::styleEqual(levs,
                                                          cols)
                      )

DT1

```

